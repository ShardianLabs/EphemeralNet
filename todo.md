# EphemeralNet TODO

## Estado actual
- Estructura CMake creada con bibliotecas y ejecutables base.
- Implementación en memoria de `ChunkStore`, `Node` y `KademliaTable` con transporte seguro real.
- Cifrado simétrico ChaCha20 integrado en `Node` y `ChunkStore` con gestión de claves efímeras.
- Prueba de humo que valida la expiración local de chunks y la recuperación tras descifrar.
- Capas de protocolo con mensajes Announce/Request/Chunk/Acknowledge y serialización binaria testeada.
- Tabla Kademlia con buckets LRU, cálculo de distancia XOR y consultas de vecinos cercanos.
- Autenticación de mensajes mediante HMAC-SHA256 y helpers de firma/validación.
- Rotación automática de claves de sesión derivadas mediante HMAC-SHA256 (KeyManager).
- Intercambio inicial de claves basado en Diffie-Hellman y reputación básica por par.
- Auditoría de TTL con informes de caducidad cruzados entre almacenamiento y DHT.
- Gestor de limpieza que coordina expiraciones locales y retirada de anuncios en la DHT.
- Transporte TCP cifrado extremo a extremo que sustituye el `SessionManager` simulado.
- Compilación y `ctest` funcionando con MinGW-w64.
- Libreria de comparticion de claves de Shamir n-de-m con pruebas unitarias de reconstruccion.
- Formato de manifiesto `eph://` con codificacion/decodificacion Base64 y prueba de round-trip.
- Tabla Kademlia extendida para publicar y expirar metadatos de shards con TTL.
- Flujo de compartición de claves Shamir integrado: generación de claves por chunk, manifiesto y publicación en la DHT.
- Ingestión y validación de manifiestos `eph://` con reconstrucción de claves y almacenamiento local replicado.
- Flujo de petición/entrega de chunks cifrados entre pares con transporte seguro y acuses firmados.
- Bootstrapping de la DHT con nodos semilla y negociación inicial de llaves.
- Simulación de NAT traversal con coordinación UPnP/STUN/hole punching y telemetría integrada en `Node`.
- Estrategia de distribución coordinada de manifiestos y shards (SwarmCoordinator) con planes de replicación y rebalanceo.
- Almacenamiento persistente opcional en disco con borrado seguro por TTL (wipe configurable).
- CLI de nodo con comandos `serve`, `store`, `fetch` y `list` sobre la API de `Node`.
- CLI/daemon desacoplados: `eph` actúa como cliente del plano de control con comandos `start`, `stop`, `status` y pruebas end-to-end para el arranque detenido.
- Mensajes Announce propagan URI de manifiesto y asignaciones de shards con serialización/decodificación verificada.
- Broadcast de manifiestos `eph://` coordinado via SwarmCoordinator con validación de metadatos e incorporación automática de contactos seguros.

## Próximos hitos
- **CORE & PROTO**
	- Diseñar estrategia de selección de piezas (p. ej. Rarest First) para el intercambio estilo BitTorrent.
	- Implementar lógica de choking/unchoking y control de ancho de banda entre pares.
	- Gestionar estados de seeds/leechers, intercambio de disponibilidad y promoción a seed.
	- Añadir planificación de envíos multi-peer con priorización dinámica y backpressure.
	- Versionado de mensajes de protocolo y compatibilidad hacia atrás para nuevas capacidades.
- **SEGURIDAD**
	- Integrar fuzzing continuo sobre la capa de deserialización de mensajes y manifiestos.
	- Revisar endurecimiento criptográfico (rotación de claves, límites de TTL y rate limiting de Announce).
	- Diseñar e implementar estrategia anti-Sybil/spam (Proof-of-Work ligero u otras defensas para anuncios y peticiones costosas).
- **TESTEO**
	- Desplegar nodos de bootstrap y STUN en un VPS para pruebas "in-the-wild".
	- Crear harness de pruebas de integración multi-nodo con simulación de latencia/pérdida.
	- Automatizar escenarios end-to-end (store/fetch) con fallos inducidos y rotaciones de plan.
- **OPS & OBSERVABILIDAD**
	- Integrar logging estructurado y exportadores de métricas (prometheus/OpenTelemetry).
	- Preparar scripts de despliegue y pipelines CI/CD para Windows/Linux/macOS (Docker, PPA/Copr, Homebrew).
	- Gestionar empaquetado reproducible y firma de binarios.
	- Definir política de gobernanza y abuso (AUP) para nodos públicos de bootstrap/STUN y procesos de cumplimiento.
- **UX & CONFIG**
	- Añadir soporte de configuración YAML/JSON con perfiles de red y overrides por entorno.
	- Incorporar validación interactiva y mensajes de error detallados en CLI/daemon.
- **PRODUCTO**
	- Completar API pública `libephemeralnet` (versionado, documentación y ejemplos de uso).
	- Finalizar `ephemeralnet-cli` incluyendo comandos de diagnóstico y soporte scripting.
	- Prototipo inicial de `ephemeralnet-GUI` o panel de administración ligero.
- **DOCS**
	- Documentar protocolo, arquitectura y flujos operativos en `docs/` con diagramas.
	- Elaborar guías de despliegue y troubleshooting para operadores.